--CREATE sequence REVINFO_SEQ start with 1 increment by 50;

CREATE TABLE REVINFO(
    rev  INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    revtstmp BIGINT
);

CREATE TABLE PROFESSOR_AUD (
    ID BIGINT AUTO_INCREMENT,
    rev INTEGER NOT NULL REFERENCES revinfo (rev),
    revtype SMALLINT,
    revend_tstmp TIMESTAMP,
    NAME VARCHAR(255),
    DISCIPLINE_CODE VARCHAR(50),
    PROFESSOR_CODE VARCHAR(50),
    PRIMARY KEY (id, rev)
);

CREATE TABLE SCHOOL_CLASS_AUD (
    ID BIGINT AUTO_INCREMENT,
    rev INTEGER REFERENCES revinfo (rev),
    revend INTEGER REFERENCES revinfo (rev),
    revtype SMALLINT,
    revtstmp TIMESTAMP,
    NAME VARCHAR(255),
    CLASS_CODE VARCHAR(50),
    CLASS_YEAR INT NOT NULL,
    PRIMARY KEY (id, rev)
);

CREATE TABLE CLASS_PROFESSOR_AUD (
    CLASS_ID BIGINT NOT NULL,
    PROFESSOR_ID BIGINT NOT NULL,
    rev INTEGER REFERENCES revinfo (rev),
    revend INTEGER REFERENCES revinfo (rev),
    revtype SMALLINT,
    revtstmp TIMESTAMP,
    PRIMARY KEY (CLASS_ID, PROFESSOR_ID),
    FOREIGN KEY (CLASS_ID) REFERENCES SCHOOL_CLASS(ID),
    FOREIGN KEY (PROFESSOR_ID) REFERENCES PROFESSOR(ID)
);
